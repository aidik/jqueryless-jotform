/*
 * jQuery UI 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(c,j){function k(a,b){var d=a.nodeName.toLowerCase();if("area"===d){b=a.parentNode;d=b.name;if(!a.href||!d||b.nodeName.toLowerCase()!=="map")return false;a=c("img[usemap=#"+d+"]")[0];return!!a&&l(a)}return(/input|select|textarea|button|object/.test(d)?!a.disabled:"a"==d?a.href||b:b)&&l(a)}function l(a){return!c(a).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({propAttr:c.fn.prop||c.fn.attr,_focus:c.fn.focus,focus:function(a,b){return typeof a==="number"?this.each(function(){var d=this;setTimeout(function(){c(d).focus();b&&b.call(d)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==j)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(a,b){function d(f,g,m,n){c.each(e,function(){g-=parseFloat(c.curCSS(f,"padding"+this,true))||0;if(m)g-=parseFloat(c.curCSS(f,"border"+this+"Width",true))||0;if(n)g-=parseFloat(c.curCSS(f,"margin"+this,true))||0});return g}var e=b==="Width"?["Left","Right"]:["Top","Bottom"],h=b.toLowerCase(),i={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(f){if(f===j)return i["inner"+b].call(this);return this.each(function(){c(this).css(h,d(this,f)+"px")})};c.fn["outer"+b]=function(f,g){if(typeof f!=="number")return i["outer"+b].call(this,f);return this.each(function(){c(this).css(h,d(this,f,true,g)+"px")})}});c.extend(c.expr[":"],{data:function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){return k(a,!isNaN(c.attr(a,"tabindex")))},tabbable:function(a){var b=c.attr(a,"tabindex"),d=isNaN(b);return(d||b>=0)&&k(a,!d)}});c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=b.offsetHeight===100;c.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"});c.extend(c.ui,{plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,d[e]])}},call:function(a,b,d){if((b=a.plugins[b])&&a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&b[e][1].apply(a.element,d)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,b){if(c(a).css("overflow")==="hidden")return false;b=b&&b==="left"?"scrollLeft":"scrollTop";var d=false;if(a[b]>0)return true;a[b]=1;d=a[b]>0;a[b]=0;return d},isOverAxis:function(a,b,d){return a>b&&a<b+d},isOver:function(a,b,d,e,h,i){return c.ui.isOverAxis(a,d,h)&&c.ui.isOverAxis(b,e,i)}})}})(jQuery);;
/*
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,j){if(b.cleanData){var k=b.cleanData;b.cleanData=function(a){for(var c=0,d;(d=a[c])!=null;c++)try{b(d).triggerHandler("remove")}catch(e){}k(a)}}else{var l=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){if(!c)if(!a||b.filter(a,[this]).length)b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove")}catch(d){}});return l.call(b(this),a,c)})}}b.widget=function(a,c,d){var e=a.split(".")[0],f;a=a.split(".")[1];f=e+"-"+a;if(!d){d=c;c=b.Widget}b.expr[":"][f]=function(h){return!!b.data(h,a)};b[e]=b[e]||{};b[e][a]=function(h,g){arguments.length&&this._createWidget(h,g)};c=new c;c.options=b.extend(true,{},c.options);b[e][a].prototype=b.extend(true,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(a,c){b.fn[a]=function(d){var e=typeof d==="string",f=Array.prototype.slice.call(arguments,1),h=this;d=!e&&f.length?b.extend.apply(null,[true,d].concat(f)):d;if(e&&d.charAt(0)==="_")return h;e?this.each(function(){var g=b.data(this,a),i=g&&b.isFunction(g[d])?g[d].apply(g,f):g;if(i!==g&&i!==j){h=i;return false}}):this.each(function(){var g=b.data(this,a);g?g.option(d||{})._init():b.data(this,a,new c(d,this))});return h}};b.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(true,{},this.options,this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,c){var d=a;if(arguments.length===0)return b.extend({},this.options);if(typeof a==="string"){if(c===j)return this.options[a];d={};d[a]=c}this._setOptions(d);return this},_setOptions:function(a){var c=this;b.each(a,function(d,e){c._setOption(d,e)});return this},_setOption:function(a,c){this.options[a]=c;if(a==="disabled")this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(a,c,d){var e=this.options[a];c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent){a=b.event.props.length;for(var f;a;){f=b.event.props[--a];c[f]=c.originalEvent[f]}}this.element.trigger(c,d);return!(b.isFunction(e)&&e.call(this.element[0],c,d)===false||c.isDefaultPrevented())}}})(jQuery);;
/*
 * jQuery UI Mouse 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 * jquery.ui.widget.js
 */
(function(b){var d=false;b(document).mouseup(function(){d=false});b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(true===b.data(c.target,a.widgetName+".preventClickEvent")){b.removeData(c.target,a.widgetName+".preventClickEvent");c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(a){if(!d){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var c=this,f=a.which==1,g=typeof this.options.cancel=="string"&&a.target.nodeName?b(a.target).closest(this.options.cancel).length:false;if(!f||g||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true}}true===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(e){return c._mouseMove(e)};this._mouseUpDelegate=function(e){return c._mouseUp(e)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return d=true}},_mouseMove:function(a){if(b.browser.msie&&!(document.documentMode>=9)&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;a.target==this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",true);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);;(function(d){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var b=this.options;if(this.helper||b.disabled||d(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;if(b.iframeFix)d(b.iframeFix===true?"iframe":b.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")});return true},_mouseStart:function(a){var b=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(d.ui.ddmanager)d.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);b.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,a);return true},_mouseDrag:function(a,b){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=this._uiHash();if(this._trigger("drag",a,b)===false){this._mouseUp({});return false}this.position=b.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var b=false;if(d.ui.ddmanager&&!this.options.dropBehaviour)b=d.ui.ddmanager.drop(this,a);if(this.dropped){b=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!b||this.options.revert=="valid"&&b||this.options.revert===true||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)){var c=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",a)!==false&&c._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},_mouseUp:function(a){this.options.iframeFix===true&&d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,a);return d.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var b=!this.options.handle||!d(this.options.handle,this.element).length?true:false;d(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==a.target)b=true});return b},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a])):b.helper=="clone"?this.element.clone().removeAttr("id"):this.element;a.parents("body").length||a.appendTo(b.appendTo=="parent"?this.element[0].parentNode:b.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[a.containment=="document"?0:d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a.containment=="document"?0:d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){a=d(a.containment);var b=a[0];if(b){a.offset();var c=d(b).css("overflow")!="hidden";this.containment=[(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0),(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0),(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=a}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName);return{top:b.top+
this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())*a)}},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName),e=a.pageX,h=a.pageY;if(this.originalPosition){var g;if(this.containment){if(this.relative_container){g=this.relative_container.offset();g=[this.containment[0]+g.left,this.containment[1]+g.top,this.containment[2]+g.left,this.containment[3]+g.top]}else g=this.containment;if(a.pageX-this.offset.click.left<g[0])e=g[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<g[1])h=g[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>g[2])e=g[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>g[3])h=g[3]+this.offset.click.top}if(b.grid){h=b.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/b.grid[1])*b.grid[1]:this.originalPageY;h=g?!(h-this.offset.click.top<g[1]||h-this.offset.click.top>g[3])?h:!(h-this.offset.click.top<g[1])?h-b.grid[1]:h+b.grid[1]:h;e=b.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0]:this.originalPageX;e=g?!(e-this.offset.click.left<g[0]||e-this.offset.click.left>g[2])?e:!(e-this.offset.click.left<g[0])?e-b.grid[0]:e+b.grid[0]:e}}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(a,b,c){c=c||this._uiHash();d.ui.plugin.call(this,a,[b,c]);if(a=="drag")this.positionAbs=this._convertPositionTo("absolute");return d.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.extend(d.ui.draggable,{version:"1.8.16"});d.ui.plugin.add("draggable","connectToSortable",{start:function(a,b){var c=d(this).data("draggable"),f=c.options,e=d.extend({},b,{item:c.element});c.sortables=[];d(f.connectToSortable).each(function(){var h=d.data(this,"sortable");if(h&&!h.options.disabled){c.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",a,e)}})},stop:function(a,b){var c=d(this).data("draggable"),f=d.extend({},b,{item:c.element});d.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;c.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",a,f)}})},drag:function(a,b){var c=d(this).data("draggable"),f=this;d.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=d(f).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return b.helper[0]};a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=c.offset.click.top;this.instance.offset.click.left=c.offset.click.left;this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top;c._trigger("toSortable",a);c.dropped=this.instance.element;c.currentItem=c.element;this.instance.fromOutside=c}this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();c._trigger("fromSortable",a);c.dropped=false}})}});d.ui.plugin.add("draggable","cursor",{start:function(){var a=d("body"),b=d(this).data("draggable").options;if(a.css("cursor"))b._cursor=a.css("cursor");a.css("cursor",b.cursor)},stop:function(){var a=d(this).data("draggable").options;a._cursor&&d("body").css("cursor",a._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("opacity"))b._opacity=a.css("opacity");a.css("opacity",b.opacity)},stop:function(a,b){a=d(this).data("draggable").options;a._opacity&&d(b.helper).css("opacity",a._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(){var a=d(this).data("draggable");if(a.scrollParent[0]!=document&&a.scrollParent[0].tagName!="HTML")a.overflowOffset=a.scrollParent.offset()},drag:function(a){var b=d(this).data("draggable"),c=b.options,f=false;if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x")if(b.overflowOffset.top+b.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+c.scrollSpeed;else if(a.pageY-b.overflowOffset.top<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-c.scrollSpeed;if(!c.axis||c.axis!="y")if(b.overflowOffset.left+b.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed;else if(a.pageX-b.overflowOffset.left<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||c.axis!="x")if(a.pageY-d(document).scrollTop()<c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()-c.scrollSpeed);else if(d(window).height()-(a.pageY-d(document).scrollTop())<c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()+c.scrollSpeed);if(!c.axis||c.axis!="y")if(a.pageX-d(document).scrollLeft()<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()-
c.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()+c.scrollSpeed)}f!==false&&d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(b,a)}});d.ui.plugin.add("draggable","snap",{start:function(){var a=d(this).data("draggable"),b=a.options;a.snapElements=[];d(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var c=d(this),f=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:f.top,left:f.left})})},drag:function(a,b){for(var c=d(this).data("draggable"),f=c.options,e=f.snapTolerance,h=b.offset.left,g=h+c.helperProportions.width,n=b.offset.top,o=n+c.helperProportions.height,i=c.snapElements.length-1;i>=0;i--){var j=c.snapElements[i].left,l=j+c.snapElements[i].width,k=c.snapElements[i].top,m=k+c.snapElements[i].height;if(j-e<h&&h<l+e&&k-e<n&&n<m+e||j-e<h&&h<l+e&&k-e<o&&o<m+e||j-e<g&&g<l+e&&k-e<n&&n<m+e||j-e<g&&g<l+e&&k-e<o&&o<m+e){if(f.snapMode!="inner"){var p=Math.abs(k-o)<=e,q=Math.abs(m-n)<=e,r=Math.abs(j-g)<=e,s=Math.abs(l-h)<=e;if(p)b.position.top=c._convertPositionTo("relative",{top:k-c.helperProportions.height,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",{top:m,left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:j-c.helperProportions.width}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:l}).left-c.margins.left}var t=p||q||r||s;if(f.snapMode!="outer"){p=Math.abs(k-n)<=e;q=Math.abs(m-o)<=e;r=Math.abs(j-h)<=e;s=Math.abs(l-g)<=e;if(p)b.position.top=c._convertPositionTo("relative",{top:k,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",{top:m-c.helperProportions.height,left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:j}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:l-c.helperProportions.width}).left-c.margins.left}if(!c.snapElements[i].snapping&&(p||q||r||s||t))c.options.snap.snap&&c.options.snap.snap.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[i].item}));c.snapElements[i].snapping=p||q||r||s||t}else{c.snapElements[i].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[i].item}));c.snapElements[i].snapping=false}}}});d.ui.plugin.add("draggable","stack",{start:function(){var a=d(this).data("draggable").options;a=d.makeArray(d(a.stack)).sort(function(c,f){return(parseInt(d(c).css("zIndex"),10)||0)-(parseInt(d(f).css("zIndex"),10)||0)});if(a.length){var b=parseInt(a[0].style.zIndex)||0;d(a).each(function(c){this.style.zIndex=b+c});this[0].style.zIndex=b+a.length}}});d.ui.plugin.add("draggable","zIndex",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("zIndex"))b._zIndex=a.css("zIndex");a.css("zIndex",b.zIndex)},stop:function(a,b){a=d(this).data("draggable").options;a._zIndex&&d(b.helper).css("zIndex",a._zIndex)}})})(jQuery);;
/*
 * jSEND      v2.0.0
 * 
 * Date:      Fri Sep 24 19:35:11 2010 +0100 
 
 * Author:    Michael Kortstiege, Copyright 2010
 * Website:   http://jsend.org/ 
 *  
 * License:   Dual licensed under the MIT or GPL Version 2 licenses.
 *            (http://jsend.org/license)
 *
 * Credits:   See http://jsend.org/about/
 *   
 */
(function(x){x.jSEND=function(l){function y(j){for(var f=[],i=256,b={},c=0;c<256;c++)b[String.fromCharCode(c)]=c;var d="";c=0;for(var m=j.length;c<m;c++){var e=j.charAt(c),s=d+e;if(b[s])d=s;else{f.push(b[d]);b[s]=i++;d=""+e}}d!=""&&f.push(b[d]);return f}function v(j){for(var f=256,i=[],b=8,c=0,d=0,m=0,e=j.length;m<e;m++){c=(c<<b)+j[m];d+=b;f++;for(f>>b&&b++;d>7;){d-=8;i.push(c>>d);c&=(1<<d)-1}}i.push(d?c<<8-d:"");return i}function w(j){for(var f=[],i=0,b=0,c="",d=0,m=j.length;d<m;d++){var e=j[d];if(e>127){e-=128;b+=Math.pow(2,i)}e==0||e==34||e==37||e==38||e==39||e==43||e==61||e==92?f.push("="+String.fromCharCode(e+16)):f.push(String.fromCharCode(e));i++;if(i>6){c+=b==0||b==34||b==37||b==38||b==39||b==43||b==61||b==92?"="+String.fromCharCode(b+16)+f.join(""):String.fromCharCode(b)+f.join("");f=[];i=b=0}}c+=b==0||b==34||b==37||b==38||b==39||b==43||b==61||b==92?"="+String.fromCharCode(b+16)+f.join(""):String.fromCharCode(b)+f.join("");return c}l=String.fromCharCode(74)+l;for(var k="",g=0,t=0,h=0;h<256;h++)k+=String.fromCharCode(224);var z=256,p={};for(h=0;h<256;h++)p[String.fromCharCode(h)]=h;var u=[],n="",o="";h=0;for(var A=l.length;h<A;h++){var q=l.charAt(h),a=q.charCodeAt(0);if(a>255){var r=a;switch(a){case 8364:a=128;break;case 8218:a=130;break;case 402:a=131;break;case 8222:a=132;break;case 8230:a=133;break;case 8224:a=134;break;case 8225:a=135;break;case 710:a=136;break;case 8240:a=137;break;case 352:a=138;break;case 8249:a=139;break;case 338:a=140;break;case 381:a=142;break;case 8216:a=145;break;case 8217:a=146;break;case 8220:a=147;break;case 8221:a=148;break;case 8226:a=149;break;case 8211:a=150;break;case 8212:a=151;break;case 732:a=152;break;case 8482:a=153;break;case 353:a=154;break;case 8250:a=155;break;case 339:a=156;break;case 382:a=158;break;case 376:a=159;break}if(r!=a){q=String.fromCharCode(a);t++;g++;if(g>=256){n+=k;g=0}}else{if(g>0){n+=k.substr(0,g);g=0}n+=String.fromCharCode(parseInt(a/256))}}else{t++;g++;if(g>=256){n+=k;g=0}}r=o+q;if(p[r])o=r;else{if(a>255)q=String.fromCharCode(a%256);u.push(p[o]);p[r]=z++;o=""+q}}o!=""&&u.push(p[o]);if(g>0)n+=k.substr(0,g);k=w(v(u));if(l.length!=t){l=w(v(y(n)));return k+"=="+l}else return k}})(jQuery);;(function($){var slice=Array.prototype.slice;var IS_DONTENUM_BUGGY=(function(){for(var p in{toString:1}){if(p==='toString')return false;}return true;})();var addMethods;if(IS_DONTENUM_BUGGY){addMethods=function(klass,source){if(source.toString!==Object.prototype.toString){klass.prototype.toString=source.toString;}if(source.valueOf!==Object.prototype.valueOf){klass.prototype.valueOf=source.valueOf;}for(var property in source){klass.prototype[property]=source[property];}};}else{addMethods=function(klass,source){for(var property in source){klass.prototype[property]=source[property];}};}function subclass(){};function createClass(){var parent=null,properties=slice.call(arguments,0);if(typeof properties[0]==='function'){parent=properties.shift();}function klass(){this.initialize.apply(this,arguments);}klass.superclass=parent;klass.subclasses=[];if(parent){subclass.prototype=parent.prototype;klass.prototype=new subclass;parent.subclasses.push(klass);}for(var i=0,length=properties.length;i<length;i++){addMethods(klass,properties[i]);}if(!klass.prototype.initialize){klass.prototype.initialize=emptyFunction;}klass.prototype.constructor=klass;return klass;}$.createClass=createClass;})(jQuery);(function($){$.deepClone=function(obj){if(typeof obj!=='object'||obj===null){return obj;}var clone=$.isArray(obj)?[]:{};for(var i in obj){var node=obj[i];if(typeof node=='object'){if($.isArray(node)){clone[i]=[];for(var j=0;j<node.length;j++){if(typeof node[j]!='object'){clone[i].push(node[j]);}else{clone[i].push($.deepClone(node[j]));}}}else{clone[i]=$.deepClone(node);}}else{clone[i]=node;}}return clone;}})(jQuery);(function($){$.getIEVersion=function(){var rv=-1;if(navigator.appName=='Microsoft Internet Explorer'){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");if(re.exec(ua)!==null){rv=parseFloat(RegExp.$1);}}return rv;}})(jQuery);if(jQuery!==undefined){var $jot=jQuery.noConflict();}
else{var filenode=document.createElement('script');filenode.src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js";filenode.onreadystatechange=function(){if(filenode.readyState==='loaded'||filenode.readyState==='complete'){filenode.onreadystatechange=null;var $jot=jQuery.noConflict();}};filenode.onload=function(){var $jot=jQuery.noConflict();};document.getElementsByTagName('head')[0].appendChild(filenode);}
if("JotformFeedbackDefaultSettings"in window){var JotformFeedbackDefaultSettings={buttonText:"Feedback",verticalTextPadding:7,horizontalTextPadding:15,buttonSpace:35,height:500,width:700,compact:true,instant:false,fontFamily:"verdana",fontColor:"#FFFFFF",fontStyle:"bold",background:"#F59202 center no-repeat",hoverBackground:"#5C5C5C",hoverFontColor:"#FFFFFF",buttonSide:"right",buttonAlign:"center",margin:50,base:"http://www.jotform.com/",formId:null,windowTitleBgColor:false,windowTitleFontColor:false,fontSize:"15px",buttonOffset:0,inlineStyle:"",iframeParameters:{},setBorderRadius:true,type:0,openOnLoad:false,reverseButtonText:false,reCalculate:true,onFormLoaded:$jot.noop,};}
if("JotformFeedbackManager"in window){var JotformFeedbackManager={buttons:{},addNewButton:function(button,reCalculate){JotformFeedbackManager.reCalculate=reCalculate;var key=button.options.buttonSide+button.options.buttonAlign;if(!$jot.isArray(JotformFeedbackManager.buttons[key])){JotformFeedbackManager.buttons[key]=[];}
JotformFeedbackManager.buttons[key][JotformFeedbackManager.buttons[key].length]=button;JotformFeedbackManager.setButtons(key);},setButtons:function(key){var total=0,i,tempButton;for(i=0;i<JotformFeedbackManager.buttons[key].length;i++){tempButton=JotformFeedbackManager.buttons[key][i];total+=tempButton.getButtonWidth();if(i!==JotformFeedbackManager.buttons[key].length-1){total+=tempButton.options.buttonOffset;}}
var current=0;for(i=0;i<JotformFeedbackManager.buttons[key].length;i++){tempButton=JotformFeedbackManager.buttons[key][i];if(JotformFeedbackManager.reCalculate){tempButton.calculateButtonPosition(total,current);}else{tempButton.calculateButtonPosition(0,0);}
tempButton.showButton();current+=tempButton.getButtonWidth();if(i!==JotformFeedbackManager.buttons[key].length-1){current+=tempButton.options.buttonOffset;}}}};}
var JotformFeedback=$jot.createClass({initialize:function(options){options.isLink=!("buttonText"in options);this.options=$jot.extend($jot.deepClone(JotformFeedbackDefaultSettings),options);this.ieVer=$jot.getIEVersion();this.ghostButton=null;this.formWindow=null;if(this.ieVer!==-1&&this.ieVer<9){this.options.compact=false;}
if(this.options.isCardForm){this.options.height='100%';this.options.width='100%';this.options.hideTitle=true;}
this.options.windowTitle=this.options.windowTitle===undefined?this.options.buttonText:this.options.windowTitle;this.options.windowTitleBgColor=this.options.windowTitleBgColor===false?this.options.background:this.options.windowTitleBgColor;this.options.windowTitleFontColor=this.options.windowTitleFontColor===false?this.options.fontColor:this.options.windowTitleFontColor;this.documanLoaded=document.readyState=='complete'||(this.jsForm&&document.readyState===undefined);if(this.options.isLink){if(!this.options.openOnLoad){this.documanLoaded?this.setLinkListener():$jot($jot.proxy(this.setLinkListener,this))}}else{if(this.documanLoaded){this.setButtons();}else{$jot($jot.proxy(this.setButtons,this));}}
if(this.options.openOnLoad===true){if(this.documanLoaded){this.showWindow();}else{$jot($jot.proxy(this.showWindow,this));}}},setButtons:function(){this.createButton();if(this.needGhostButton()){this.createGhostButton();}
JotformFeedbackManager.addNewButton(this,this.options.reCalculate);},setLinkListener:function(){var linkIdentifier='lightbox-'+this.options.formId;var $this=this;$jot("."+linkIdentifier).each(function(){$jot(this).click($jot.proxy($this.showWindow,$this));});$jot('#'+linkIdentifier).click($jot.proxy(this.showWindow,this));},needGhostButton:function(){return this.ieVer>0&&(this.options.buttonSide==="right"||this.options.buttonSide==="left");},createGhostButton:function(){var align;if(this.options.buttonSide==="right"){align="right";}else{align="left";}
this.ghostButton=$jot('<input type="button" />').css({position:"fixed",width:this.getButtonHeight()+"px",height:this.getButtonWidth()+"px",cursor:"pointer",zIndex:"998",border:"0"});this.ghostButton.css(align,0);this.setHoverProperties(this.ghostButton);this.embedButton(this.ghostButton);this.setButtonListeners(this.ghostButton);},setHoverProperties:function(button){button.hover($jot.proxy(this.mouseOver,this),$jot.proxy(this.mouseOut,this));},mouseOver:function(){this.button.css({"background":this.options.hoverBackground,"color":this.options.hoverFontColor,textShadow:"0px 0px 10px rgba(255,255,255,0.6)"});},mouseOut:function(){this.button.css({"background":this.options.background,"color":this.options.fontColor,textShadow:"none"});},getButtonWidth:function(){if((this.ieVer>-1&&this.ieVer<9)&&(this.options.buttonSide==="right"||this.options.buttonSide==="left")){return this.button[0].offsetHeight;}else{return this.button[0].offsetWidth;}},getButtonHeight:function(){if((this.ieVer>-1&&this.ieVer<9)&&(this.options.buttonSide==="right"||this.options.buttonSide==="left")){return this.button[0].offsetWidth;}else{return this.button[0].offsetHeight;}},createButton:function(){var style=this.setTransform()+"padding:"+this.options.verticalTextPadding+"px "+this.options.horizontalTextPadding+"px;"+"position:fixed;"+
this.options.buttonSide+":0;"+"visibility:hidden;"+"font-family:"+this.options.fontFamily+";"+"font-size:"+this.options.fontSize+";"+"color:"+this.options.fontColor+";"+"background:"+this.options.background+";"+"font-style: "+this.options.fontStyle+";"+"z-index: 999;"+"cursor:pointer;"+"text-align: center;"+"text-decoration: none;"+
this.options.inlineStyle+";";if(this.options.setBorderRadius){style+=this.generateBoxRadius();}
this.button=linkElement=$jot("<a />").attr({"class":'jotform-feedback-link',id:'jotform-feedback-'+this.options.formId,style:style}).html(this.options.buttonText);this.setHoverProperties(this.button);this.embedButton(this.button);this.setButtonListeners(this.button);},generateBoxRadius:function(){var radiusValues="";var shadowValues="0 0 5px";switch(this.options.buttonSide){case"bottom":radiusValues="5px 5px 0 0";break;case"top":radiusValues="0 0 5px 5px";break;case"right":if(this.options.reverseButtonText){radiusValues="0 0 5px 5px";}else{radiusValues="5px 5px 0 0";}
shadowValues="";break;case"left":if(this.options.reverseButtonText){radiusValues="5px 5px 0 0";}else{radiusValues="0 0 5px 5px";}
shadowValues="";break;}
return"-moz-border-radius: "+radiusValues+";"+"-webkit-border-radius: "+radiusValues+";"+"border-radius: "+radiusValues+";"+"-moz-box-shadow: "+shadowValues+" rgba(0,0,0,0.3);"+"-webkit-box-shadow: "+shadowValues+" rgba(0,0,0,0.3);"+"box-shadow: "+shadowValues+" rgba(0,0,0,0.3);";},setTransform:function(){if(this.options.buttonSide==="left"||this.options.buttonSide==="right"){var degree=-90;var ieDegree=3;if(this.options.reverseButtonText){degree=90;ieDegree=1;}
if(this.ieVer>-1){return this.ieVer<9?"filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+ieDegree.toString()+");":"-ms-transform:rotate("+degree.toString()+"deg);";}
return"-moz-transform:rotate("+degree.toString()+"deg);"+"-o-transform:rotate("+degree.toString()+"deg);"+"-webkit-transform:rotate("+degree.toString()+"deg);"+"transform:rotate("+degree.toString()+"deg);";}
return"";},embedButton:function(button){$jot('body').append(button);},setButtonListeners:function(button){button.click($jot.proxy(this.showWindow,this));},showButton:function(){this.button.css({visibility:""});},setOriginPointAfterRotation:function(){switch(this.options.buttonSide){case"left":if(this.ieVer===-1||this.ieVer>=9){this.button.css({marginLeft:-1*(this.getButtonWidth()/2-this.getButtonHeight()/2)+"px"});}
break;case"right":if(this.ieVer===-1||this.ieVer>=9){this.button.css({marginRight:-1*(this.getButtonWidth()/2-this.getButtonHeight()/2)+"px"});}else if(this.ieVer===8){this.button.css({marginRight:-1*(this.getButtonWidth()-this.getButtonHeight())+"px"});}
break;default:break;}},calculateButtonPosition:function(total,current){this.setOriginPointAfterRotation();switch(this.options.buttonAlign){case"top":var css={top:this.options.buttonSpace+current+"px"};if(this.needGhostButton()){this.ghostButton.css(css);}
if(this.ieVer===-1||this.ieVer>=9){css['marginTop']=(this.getButtonWidth()/2-this.getButtonHeight()/2)+"px";}
this.button.css(css);break;case"bottom":var css={bottom:this.options.buttonSpace+current+"px"};if(this.needGhostButton()){this.ghostButton.css(css);}
if(this.ieVer===-1||this.ieVer>=9){css['marginBottom']=(this.getButtonWidth()/2-this.getButtonHeight()/2)+"px";}else if(this.ieVer===8){css['marginBottom']=(this.getButtonWidth()-this.getButtonHeight())+"px"}
this.button.css(css);break;case"left":this.button.css({left:(this.options.buttonSpace+current)+"px"});break;case"right":this.button.css({right:(this.options.buttonSpace+current)+"px"});break;case"center":if(this.options.buttonSide==="left"||this.options.buttonSide==="right"){var marginValue=(this.ieVer===-1||this.ieVer>=9)?-1*(total/2-this.getButtonWidth()/2)+-1*this.getButtonHeight()/2+current:-1*total/2+current;this.button.css({top:this.options.margin+"%",marginTop:marginValue+"px"});if(this.needGhostButton()){this.ghostButton.css({top:this.options.margin+"%",marginTop:(-1*this.getButtonWidth()/2)+"px"});}}else{this.button.css({left:this.options.margin+"%",marginLeft:(-1*total/2+current)+"px"});}
break;}},showWindow:function(){var $this=this;var settings={titleBackground:this.generateBackgroundForWindow(),buttonsBackground:'#fff url('+this.options.base+'images/footer-bg.png)',background:'#f5f5f5',borderWidth:6,borderOpacity:0.5,borderRadius:'10px',contentPadding:0,closeButton:'<div style="width:22px;margin-right: 6px;margin-top: 6px; height:25px; background:url('+
this.options.base+'/images/Close-icon-new.png) no-repeat !important;">'+'</div>',dimColor:'#000',dimOpacity:0.8,borderColor:'#000',titleTextColor:this.options.windowTitleFontColor};var types=[{},{borderWidth:10,borderOpacity:1,borderColor:'#fff',hideTitle:true,closeButton:'<svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="10.5" cy="10.5" r="10.5" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.34993 5.93572C6.9594 5.54519 6.32624 5.54519 5.93572 5.93572C5.54519 6.32624 5.54519 6.9594 5.93572 7.34993L9.08581 10.5L5.93583 13.65C5.5453 14.0405 5.5453 14.6737 5.93583 15.0642C6.32635 15.4547 6.95952 15.4547 7.35004 15.0642L10.5 11.9142L13.65 15.0642C14.0405 15.4547 14.6737 15.4547 15.0642 15.0642C15.4547 14.6737 15.4547 14.0405 15.0642 13.65L11.9142 10.5L15.0643 7.34993C15.4549 6.9594 15.4549 6.32624 15.0643 5.93572C14.6738 5.54519 14.0406 5.54519 13.6501 5.93572L10.5 9.08581L7.34993 5.93572Z" fill="black"/></svg>'},{borderWidth:10,borderOpacity:0.8,hideTitle:true,closeButton:'<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="11" cy="11" r="11" fill="#000"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.70711 6.29289C7.31658 5.90237 6.68342 5.90237 6.29289 6.29289C5.90237 6.68342 5.90237 7.31658 6.29289 7.70711L9.58742 11.0016L6.29293 14.2961C5.90241 14.6867 5.90241 15.3198 6.29293 15.7103C6.68346 16.1009 7.31662 16.1009 7.70715 15.7103L11.0016 12.4159L14.2961 15.7103C14.6867 16.1009 15.3198 16.1009 15.7103 15.7103C16.1009 15.3198 16.1009 14.6867 15.7103 14.2961L12.4159 11.0016L15.7104 7.70711C16.1009 7.31658 16.1009 6.68342 15.7104 6.29289C15.3199 5.90237 14.6867 5.90237 14.2962 6.29289L11.0016 9.58742L7.70711 6.29289Z" fill="white"/></svg>',borderColor:'#000'}];settings=$jot.extend(settings,types[this.options.type]);this.windowDefaults=$jot.extend(this.windowDefaults,settings);window.wishboxCompactLoad=this.options.compact;var w=this.options.width;var h=this.options.height;if(this.options.compact&&this.options.instant){w=$jot(window).width()-100;h=$jot(window).height()-100;}
this.formWindow=this.createWindow({title:this.options.windowTitle,width:w+"px",height:h+"px",content:'<div id="js-form-content"></div>',onInsert:function(){$jot('<script type="text/javascript" src="'+$this.options.base+"jsform/"+$this.options.formId+"?appendTo=js-form-content&"+jQuery.param($this.options.iframeParameters)+'"></script>').appendTo('body');}});if(this.options.instant){this.formWindow.hide();window.wishboxInstantLoad=true;$jot('.jt-dimmer').hide();var tmp=$jot('#jotform-feedback-'+$this.options.formId).html();$jot('#jotform-feedback-'+$this.options.formId).html('<img src="https://cdn.jotfor.ms/images/loading-circle.gif" style="width:16px;float:left;margin-right:10px;"/>Loading...');JotformFeedbackManager.setButtons(this.options.buttonSide+this.options.buttonAlign);window.screenshotReady=function(){if($this.options.compact){$this.formWindow.show();$jot('.jt-dimmer').show();$jot('#wishbox-frame').show();$jot('#wishbox-frame').css({width:'100%',top:0,height:'100%',overflow:'hidden'});}else{$jot('#wishbox-frame').show('slow');}
$jot('#jotform-feedback-'+$this.options.formId).html(tmp);JotformFeedbackManager.setButtons($this.options.buttonSide+$this.options.buttonAlign);if($this.options.compact){$jot('#js-form-content iframe').css({minHeight:h-30,maxHeight:h-30});}};}else{window.wishboxInstantLoad=false;}
window.JotFormFrameLoaded=function(){if(!$this.options.isCardForm){$this.options.onFormLoaded.call($this);$jot('#js-form-content iframe').css({minHeight:$this.options.height,backgroundColor:"white"});}
if($jot('.jt-dimmer')){$jot('.jt-dimmer').click(function(){$jot('.jt-dimmer').remove();$jot('.jt-feedback').remove();})}};},createWindow:function(options){options=$jot.extend(options,this.windowDefaults);var responsiveLightboxStyle='<style type="text/css">@media screen and (max-width: 768px) { .u-responsive-lightbox { width: 90%!important; } .u-responsive-lightbox .jt-title, .u-responsive-lightbox .jt-content, .u-responsive-lightbox .js-form-content { width: 100%!important; }}</style>';$jot('head').append(responsiveLightboxStyle);var dimmer=$jot('<div class="jt-dimmer"></div>').css({position:'fixed',top:0,left:0,right:0,bottom:0,background:options.dimColor,opacity:options.dimOpacity,zIndex:10000000}).appendTo('body');var props={position:'fixed',top:this.options.isCardForm?0:'50%',left:this.options.isCardForm?0:'50%',marginLeft:this.options.isCardForm?0:"-"+(parseFloat(options.width)/2)+'px',marginTop:this.options.isCardForm?0:"-"+(parseFloat(options.height)/2)+'px',zIndex:10000001};if(this.options.isCardForm){props.height='100%';props.width='100%';}
var cont=$jot('<div class="jt-feedback u-responsive-lightbox"></div>').css(props).appendTo('body');var reCenter=function(){cont.css({marginTop:"-"+Math.floor(cont.height()/2)+"px",marginLeft:"-"+Math.floor(cont.width()/2)+"px"});win.css({overflow:'auto',maxHeight:$jot(window).height()-70});};if(!this.options.isCardForm){var i=setInterval(function(){reCenter();},200);}
var border=$jot('<div></div>').css({position:'absolute',top:-options.borderWidth,left:-options.borderWidth,right:-options.borderWidth,bottom:-options.borderWidth,opacity:options.borderOpacity,background:options.borderColor,zIndex:-1,borderRadius:options.borderRadius,MoxBorderRadius:options.borderRadius,WebkitBorderRadius:options.borderRadius}).appendTo(cont);var title=$jot('<div class="jt-title"></div>').html(options.title).css({background:options.titleBackground,width:(parseInt(options.width,10)+20),position:'relative',fontWeight:'bold',color:options.titleTextColor,textIndent:'10px',borderBottom:'1px solid #8E8787',fontSize:'14px',height:'35px',lineHeight:'35px',fontFamily:'Verdana',MozBorderRadius:'3px 3px 0px 0px',WebkitBorderRadius:'3px 3px 0px 0px',borderRadius:'3px 3px 0px 0px',cursor:'move'}).appendTo(cont);var close=$jot('<div></div>').html(options.closeButton).click(function(){if(i){clearInterval(i);}
dimmer.remove();cont.remove();}).css({height:'35px',top:0,right:0,lineHeight:'35px',cursor:'pointer',position:'absolute'});if(options.hideTitle||this.options.isCardForm){title.hide();close.appendTo(cont).css({zIndex:9999,position:"absolute",right:-15,top:-18});}else{close.appendTo(title);}
var win=$jot('<div class="jt-content" style="-webkit-overflow-scrolling: touch; overflow: auto"></div>').html(options.content).css({background:options.background,position:'relative',width:this.options.isCardForm?'100%':(parseInt(options.width,10)+20),height:this.options.isCardForm?'100%':options.height,padding:options.contentPadding,MozBorderRadius:'0px 0px 3px 3px',WebkitBorderRadius:'0px 0px 3px 3px',borderRadius:'0px 0px 3px 3px'}).appendTo(cont);var result=options.onInsert&&options.onInsert(win);if(this.options.isCardForm){jQuery('#js-form-content, #js-form-content iframe, .jt-feedback').css({minWidth:"100%",minHeight:"100%",height:"100%",width:"100%"});}
cont.draggable({handle:title,containment:'document',iframeFix:true,start:function(){$jot('<div id="--iframe-fix"></div>').appendTo(win).css({position:'absolute',zIndex:1000,top:0,left:0,right:0,bottom:0});},stop:function(){$jot('#--iframe-fix').remove();}});return cont;},generateBackgroundForWindow:function(){if(this.options.windowTitleBgColor===false){return'url('+this.options.base+'images/title-bg.png)';}else{return this.options.windowTitleBgColor;}},showForm:function(){return this.showWindow();}});var scripts=document.getElementsByTagName("script");eval(scripts[scripts.length-1].innerHTML);
